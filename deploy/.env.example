# Heimdex Dev Environment Example

# Database
PGUSER=heimdex
PGPASSWORD=heimdex
PGDATABASE=heimdex
PGHOST=pg
PGPORT=5432

# Queue
REDIS_URL=redis://redis:6379/0

# Vector Database
QDRANT_URL=http://qdrant:6333
VECTOR_SIZE=384

# Embedding Model Configuration
# Backend adapter (options: "sentence")
EMBEDDING_BACKEND=sentence
# Model name: use short name from registry (minilm-l6-v2, mpnet-base, minilm-l12-v2)
# or full HuggingFace ID (e.g., sentence-transformers/all-MiniLM-L6-v2)
EMBEDDING_MODEL_NAME=minilm-l6-v2
# Device for inference (cpu, cuda, cuda:0, etc.)
EMBEDDING_DEVICE=cpu
# Fail-fast validation: check VECTOR_SIZE matches model dimension at startup
# Set to false to bypass (not recommended for production)
EMBEDDING_VALIDATE_ON_STARTUP=true

# Runtime
HEIMDEX_ENV=local
WORKER_CONCURRENCY=2
OUTBOX_DISPATCH_INTERVAL_MS=500

# Dependency enablement (profile-aware readiness)
# Only enabled dependencies affect readiness checks
ENABLE_PG=true
ENABLE_REDIS=true
ENABLE_QDRANT=false
ENABLE_GCS=false

# Probe tunables (keep tight for fast failure detection)
PROBE_TIMEOUT_MS=300
PROBE_RETRIES=2
PROBE_COOLDOWN_SEC=30
PROBE_CACHE_SEC=10

# Authentication (dev mode for local development)
AUTH_PROVIDER=dev
DEV_JWT_SECRET=local-dev-secret

# Supabase auth (uncomment and configure for production)
# AUTH_PROVIDER=supabase
# SUPABASE_JWKS_URL=https://<project>.supabase.co/auth/v1/jwks
# AUTH_AUDIENCE=heimdex
# AUTH_ISSUER=https://<project>.supabase.co/
